<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{ layout/layout-1 }">

<div layout:fragment="content" align="center">
<head>
    <meta charset="UTF-8">
    <title>Carrot Nara</title>
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  </head>
    <style>
    .imgUpdateBtn{
        display: block;
        width: 28px;
        cursor: pointer;
    }
    .sourceList {
        margin-top: 200px;
    }
    </style>
    
</head>
<body>
    
    <div class="mainContent" th:each="u : ${ user }">
        <img th:src="${ '/img/user/'+ u.id }" style="width: 150px; height: 150px;">
        <img class="imgUpdateBtn" src="/images/imageEditing.png" onclick="imgUpdate()"
         alt="프로필 수정하기 버튼" title="프로필 수정하기"/>
    </div>
    
        <!-- 프로필 수정 모달 -->
        <div class="modal" id ="imageModal" tabindex="-1">
            <div class="modal-dialog">
                <div class="modal-content">
                     <div class="modal-header">
                          <h5 class="modal-title">프로필 이미지</h5>
                         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="profileForm" enctype="multipart/form-data" method="post" action="">
                           <input type="file" name="file" id="file"/>
                        </form>
                    </div>
                    <div class="modal-footer">
                         <button type="button" id="" class="btn btn-primary">수정하기</button>
                    </div>
                 </div>
            </div>
        </div>
        
    <div class="sourceList"><a target="_blank" href="https://icons8.com/icon/46498/%EC%9D%B4%EB%AF%B8%EC%A7%80-%ED%8E%B8%EC%A7%91">이미지 편집</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></div>
<th:block layout:fragment="script">
    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
	<script>
	const imageModal = document.querySelector('#imageModal');
	const imgModal = new bootstrap.Modal(imageModal);
	function imgUpdate(){
		imgModal.show();
	}
	</script>
</th:block>
</body>
</div>
</html>